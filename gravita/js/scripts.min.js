function setVh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function resetBtnVisible(){const e=document.querySelector(".f-search__reset");e.style.visibility="visible",e.style.pointerEvents="auto"}function resetBtnHidden(){const e=document.querySelector(".f-search__reset");e.style.visibility="hidden",e.style.pointerEvents="none"}setVh(),window.addEventListener("resize",(function(){setVh()})),window.addEventListener("orientationchange",(function(){setVh()})),$((function(){var e=screen.width,o=window.innerWidth;let t=0;const s=$(".header"),n=()=>window.pageYOffset||document.documentElement.scrollTop,i=()=>s.hasClass("hide");$(window).on("scroll",(function(){n()>t&&!i()&&n()>200?s.addClass("hide"):n()<t&&i()&&s.removeClass("hide"),t=n()})),e>991?($(".location__link").on("click",(function(e){e.preventDefault(),$(".location__dropdown").slideToggle()})),$(".location__confirm").on("click",(function(e){e.preventDefault(),$(".location__dropdown").slideUp()}))):($(".location__link").on("click",(function(e){e.preventDefault();let o=$(this).parents(".location");o.find(".location__dropdown").fadeIn(),$("body").addClass("noscroll"),o.find(".overlay").length<=0&&(console.log("no"),o.append('<div class="overlay"></div>'))})),$(".location__confirm").on("click",(function(e){e.preventDefault();let o=$(this).parents(".location");o.find(".location__dropdown").fadeOut(),$("body").removeClass("noscroll"),o.find(".overlay").remove()})),$(".location").on("click",".overlay",(function(){$(this).siblings(".location__dropdown").fadeOut(),$("body").removeClass("noscroll"),$(this).remove()}))),$(".location__btn").on("click",(function(){$(this).parents(".location__dropdown").slideUp(),$(this).parents(".location").find(".overlay").remove()})),$(".menu-toggle").on("click",(function(){$(".search").slideUp(),$(this).toggleClass("open"),$(".dropdown").slideToggle(),$("body").toggleClass("noscroll");let e=$(".location");e.find(".location__dropdown").fadeOut(),e.find(".overlay").remove()}));Plyr.setup(".js-player");$(".js-minus").on("click",(function(){let e=$(this).parent().find("input"),o=parseInt(e.val())-1;return o=o<1?1:o,e.val(o),e.change(),!1})),$(".js-plus").on("click",(function(){let e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})),o>767?$(".search-btn").on("click",(function(){$(".dropdown").slideUp(),$(".menu-toggle").hide().removeClass("open"),$(".search-close").show(),$(".search").slideDown().find("input").focus(),$(".search").append('<div class="search__overlay"></div>'),$("body").addClass("noscroll"),$(".search-close").addClass("open")})):$(".search-btn").on("click",(function(){$(".menu-toggle").hide(),$(".search-close").show(),$(".search").slideDown().find("input").focus(),$("body").addClass("noscroll"),$(".search-close").addClass("open")})),$(".search-close").on("click",(function(){const e=$(this);e.removeClass("open"),$(".search").slideUp(),$("body").removeClass("noscroll"),setTimeout((function(){e.hide(),$(".menu-toggle").show()}),400)})),$(".search").on("click",".search__overlay",(function(){$(".search-close").removeClass("open"),$(".search").slideUp(),$("body").removeClass("noscroll"),setTimeout((function(){$(".search-close").hide(),$(".menu-toggle").show(),$(".search__overlay").remove()}),400)})),$(".js-modal-show").on("click",(function(){var e=$(this).attr("href");$(e).fadeIn(500),$("body").addClass("noscroll")})),$(".js-modal-close").on("click",(function(e){e.preventDefault(),$(".js-modal").fadeOut(100),setTimeout((()=>{$("body").removeClass("noscroll")}),100)})),$("body").on("click",".js-modal",(function(e){e.target.classList.contains("js-modal")&&($(".js-modal").fadeOut(100),setTimeout((()=>{$("body").removeClass("noscroll")}),100)),e.stopPropagation()})),$(".callback-btn").on("click",(function(){$(this).parents(".dropdown").slideUp(),$(".menu-toggle").removeClass("open")})),$(".phone").mask("+7 (999) 999-99-99",{completed:function(){$(this).addClass("completed")}}),$(".accordion__header").on("click",(function(){$(this).toggleClass("open").siblings(".accordion__content").slideToggle().parents(".accordion__item").siblings(".accordion__item").find(".accordion__header").removeClass("open").siblings(".accordion__content").slideUp()})),$(".scrollup").click((function(){return $("html, body").animate({scrollTop:0},600),!1})),$(".tooltip__icon").on("click",(function(e){$(this).siblings(".tooltip__popup").fadeToggle(),o-$(this).siblings(".tooltip__popup").offset().left-260<150&&$(this).siblings(".tooltip__popup").css({left:"auto",right:0}),e.stopPropagation()})),$("body").on("click",(()=>{$(".tooltip__popup").fadeOut()})),e>767&&$(".js-anchor").on("click",(function(){let e=$(this).attr("href"),o=$(e).offset().top-84;return $("html,body").animate({scrollTop:o},600),!1})),$(".f-search__show").on("click",(function(e){e.preventDefault(),$(".f-search__form").fadeIn().find("input").focus()})),$(".sort__toggle").on("click",(function(){$(this).toggleClass("open").siblings(".sort__dropdown").slideToggle()})),$(".sort__link").on("click",(function(e){e.preventDefault();let o=$(this).text();$(this).parents(".sort__dropdown").slideUp().siblings(".sort__toggle").removeClass("open").find(".sort__selected").text(o)})),$(".f-select__header").on("click",(function(){$(this).parents(".f-select").siblings(".f-select").find(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp(),$(this).toggleClass("open").siblings(".f-select__list").slideToggle()})),$(".f-select__toggle").on("click",(function(){$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все"),$(this).siblings(".f-select__wrap").find(".f-select__checkbox:not(.hit)").hide(),$(this).siblings(".f-select__title").text("Популярные:")):($(this).addClass("open").find("span").text("Скрыть все"),$(this).siblings(".f-select__wrap").find(".f-select__checkbox").show(),$(this).siblings(".f-select__title").text("Все коллекции:"))})),$("body").on("mousedown",(function(e){e.target.classList.contains("f-select")||e.target.closest(".f-select")||$(".f-select__list").slideUp(),e.stopPropagation()})),$(".filter__toggle").on("click",(function(){window.innerWidth>767?$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все фильтры"),$(".f-select:nth-child(n + 5)").slideUp(),$(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp()):($(this).addClass("open").find("span").text("Скрыть все фильтры"),$(".f-select:nth-child(n + 5)").slideDown()):$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все фильтры"),$(".filter__selects").slideUp(),$(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp()):($(this).addClass("open").find("span").text("Скрыть все фильтры"),$(".filter__selects").slideDown())}));const l=$(".colls-item");e>991?$(window).on("scroll",(function(){let e=$(window).scrollTop();l.each((function(){let o=$(this),t=o.offset().top-78,s=o.find(".colls-item__wrap").height(),n=o.height()-s,i=o.offset().top+n-118,l=o.find(".coll-goods").height();console.log(s,l),s<l&&(e>t&&e<i&&!o.hasClass("fixed")?o.removeClass("absolute").addClass("fixed"):e>i&&!o.hasClass("absolute")?o.removeClass("fixed").addClass("absolute"):e<t&&o.removeClass("fixed"))}))})):$(window).on("scroll",(function(){let e=$(window).scrollTop();l.each((function(){let o=$(this),t=o.offset().top,s=o.offset().top+o.height()-40,n=o.find(".colls-item__title").height();e>t&&e<s?(o.find(".colls-item__title").removeClass("absolute").addClass("fixed"),o.css("padding-top",n+"px")):e<t?(o.find(".colls-item__title").removeClass("fixed"),o.css("padding-top","0px")):e>s&&o.find(".colls-item__title").removeClass("fixed").addClass("absolute")}))}));let a=$(".product");a.length>0&&$(window).on("scroll",(function(){let e=$(window).scrollTop();if(window.innerWidth>991){let o=a.offset().top,t=o+a.find(".product__row").height()-a.find(".product__wrap").height();e>o&&e<t&&!a.hasClass("fixed")?a.addClass("fixed").removeClass("absolute"):e<o?a.removeClass("fixed"):e>t&&!a.hasClass("absolute")&&a.removeClass("fixed").addClass("absolute")}else{let o=230;window.innerWidth<576&&(o=180),e>a.offset().top+a.find(".product__left").height()-$(window).height()+o?$(".product__right").addClass("static"):$(".product__right").removeClass("static")}})),$(".js-product-anchor").on("click",(function(e){e.preventDefault();let o=$(this).attr("href"),t=$(o).position().top,s=a.offset().top+a.find(".product__left").height()+t+40;return $("html,body").animate({scrollTop:s},600),!1})),$(".product-info__more").on("click",(function(e){e.preventDefault(),$(this).siblings(".product-info__list").toggleClass("open"),$(this).hasClass("open")?$(this).removeClass("open").find("span").text("Развернуть"):$(this).addClass("open").find("span").text("Свернуть")})),$(".js-copy-product-code").on("click",(function(e){e.preventDefault();let o=$("<input>");$("body").append(o),o.val($(".product__code span").text()).select(),document.execCommand("copy"),o.remove(),$(".js-copy-label").addClass("open"),setTimeout((function(){$(".js-copy-label").removeClass("open")}),3500)})),$(".js-copy-product-link").on("click",(function(e){e.preventDefault();let o=$("<input>");$("body").append(o),o.val($(this).attr("href")).select(),document.execCommand("copy"),o.remove(),$(".js-copy-label-light").addClass("open"),setTimeout((function(){$(".js-copy-label-light").removeClass("open")}),3500)}));let c=$(".goods");if(c.length>0){let o=$(".goods-nav");e>767?$(window).on("scroll",(function(){let e=$(window).scrollTop(),t=c.offset().top-84,s=c.offset().top+c.height()-o.height()-84;e>t&&e<s?o.addClass("fixed"):o.removeClass("fixed"),$(".goods-nav__link").each((function(){let o=$(this.hash).offset().top-94;o<=e&&e<o+$(this.hash).height()?$(this).addClass("active"):$(this).removeClass("active")}))})):($(".goods-nav__link").removeClass("js-anchor"),$(".goods-nav__link").on("click",(function(e){e.preventDefault(),$(this).addClass("active").siblings(".goods-nav__link").removeClass("active"),$(this.hash).fadeIn().addClass("active").siblings(".coll-goods").hide().removeClass("active"),$(".coll-goods").masonry({gutter:r,itemSelector:".coll-goods__item",lazyLoad:!0})})))}let d=0,r=0,p=0,f=0;o>1859?(d=144,r=144,p=352,f=392):o<1860&&o>1599?(d=122,r=122,p=288,f=328):o<1600&&o>1279?(d=101,r=101,p=224,f=264):o<1280&&o>991?(d=133,r=60,p=224,f=133):o<992&&o>767?(d=20,r=20,p=216):o<768&&o>575?(d=86,r=86):o<576&&(d=10,r=10,p=".catalog-grid__item"),$(window).on("resize",(function(){(o=window.innerWidth)>1859?(d=144,r=144,p=352,f=392):o<1860&&o>1599?(d=122,r=122,p=288,f=328):o<1600&&o>1279?(d=101,r=101,p=224,f=264):o<1280&&o>991?(d=133,r=60,p=224,f=133):o<992&&o>767?(d=20,r=20,p=216):o<768&&o>575?(d=86,r=86):o<576&&(d=10,r=10,p=".catalog-grid__item"),$cataloGrid=$(".catalog-grid").masonry({horizontalOrder:!0,gutter:d,itemSelector:".catalog-grid__item",lazyLoad:!0}),$coolGoods=$(".coll-goods").masonry({gutter:r,itemSelector:".coll-goods__item",lazyLoad:!0}),$(".card-items").each((function(){$cardItems=$(this).masonry({horizontalOrder:!0,gutter:f,itemSelector:".card-item",lazyLoad:!0})}))})),$cataloGrid=$(".catalog-grid").masonry({horizontalOrder:!0,gutter:d,itemSelector:".catalog-grid__item",lazyLoad:!0}),$coolGoods=$(".coll-goods").masonry({gutter:r,itemSelector:".coll-goods__item",lazyLoad:!0}),$(".card-items").each((function(){$cardItems=$(this).masonry({horizontalOrder:!0,gutter:f,itemSelector:".card-item",lazyLoad:!0})}));const h=$(".js-range-price"),u=$(".js-input-from"),_=$(".js-input-to");if(_.val()>0)var m=_.val();else m=_.attr("max");if(u.val()>0)var g=u.val();else g=u.attr("min");var v=u.attr("id"),C=_.attr("id");let b,w=Number(u.attr("min")),y=Number(_.attr("max")),k=0,x=0;function j(e){k=Number(e.from),x=Number(e.to),u.prop("value",k),_.prop("value",x)}h.ionRangeSlider({grid:!1,type:"double",min:w,max:y,from:g,to:m,prettify_enabled:!0,onStart:j,onChange:j,onFinish:function(e){smartFilter.keyup(BX(v)),smartFilter.keyup(BX(C))}}),b=h.data("ionRangeSlider"),u.on("input",(function(){var e=Number($(this).prop("value"));e<w?e=w:e>x&&(e=x),b.update({from:e})})),_.on("input",(function(){var e=Number($(this).prop("value"));e<k?e=k:e>y&&(e=y),b.update({to:e})}))}));