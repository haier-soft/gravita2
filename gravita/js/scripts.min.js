function setVh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function resetBtnVisible(){const e=document.querySelector(".f-search__reset");e.style.visibility="visible",e.style.pointerEvents="auto"}function resetBtnHidden(){const e=document.querySelector(".f-search__reset");e.style.visibility="hidden",e.style.pointerEvents="none"}setVh(),window.addEventListener("resize",(function(){setVh()})),window.addEventListener("orientationchange",(function(){setVh()})),$((function(){var e=screen.width,o=window.innerWidth;let t=0;const s=$(".header"),i=()=>window.pageYOffset||document.documentElement.scrollTop,n=()=>s.hasClass("hide");$(window).on("scroll",(function(){i()>t&&!n()&&i()>200?s.addClass("hide"):i()<t&&n()&&s.removeClass("hide"),t=i()})),e>991?($(".location__link").on("click",(function(e){e.preventDefault(),$(".location__dropdown").slideToggle()})),$(".location__confirm").on("click",(function(e){e.preventDefault(),$(".location__dropdown").slideUp()}))):($(".location__link").on("click",(function(e){e.preventDefault();let o=$(this).parents(".location");o.find(".location__dropdown").fadeIn(),$("body").addClass("noscroll"),o.find(".overlay").length<=0&&(console.log("no"),o.append('<div class="overlay"></div>'))})),$(".location__confirm").on("click",(function(e){e.preventDefault();let o=$(this).parents(".location");o.find(".location__dropdown").fadeOut(),$("body").removeClass("noscroll"),o.find(".overlay").remove()})),$(".location").on("click",".overlay",(function(){$(this).siblings(".location__dropdown").fadeOut(),$("body").removeClass("noscroll"),$(this).remove()}))),$(".location__btn").on("click",(function(){$(this).parents(".location__dropdown").slideUp(),$(this).parents(".location").find(".overlay").remove()})),$(".menu-toggle").on("click",(function(){$(".search").slideUp(),$(this).toggleClass("open"),$(".dropdown").slideToggle(),$("body").toggleClass("noscroll");let e=$(".location");e.find(".location__dropdown").fadeOut(),e.find(".overlay").remove()})),$(".menu__link").on("click",(function(){$(".search").slideUp(),$(".dropdown").slideUp(),$("body").removeClass("noscroll"),$(".menu-toggle").removeClass("open")}));Plyr.setup(".js-player");$(".js-minus").on("click",(function(){let e=$(this).parent().find("input"),o=parseInt(e.val())-1;return o=o<1?1:o,e.val(o),e.change(),!1})),$(".js-plus").on("click",(function(){let e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})),o>767?$(".search-btn").on("click",(function(){$(".dropdown").slideUp(),$(".menu-toggle").hide().removeClass("open"),$(".search-close").show(),$(".search").slideDown().find("input").focus(),$(".search").append('<div class="search__overlay"></div>'),$("body").addClass("noscroll"),$(".search-close").addClass("open")})):$(".search-btn").on("click",(function(){$(".menu-toggle").hide(),$(".search-close").show(),$(".search").slideDown().find("input").focus(),$("body").addClass("noscroll"),$(".search-close").addClass("open")})),$(".search-close").on("click",(function(){const e=$(this);e.removeClass("open"),$(".search").slideUp(),$(".menu-toggle").hasClass("open")||$("body").removeClass("noscroll"),setTimeout((function(){e.hide(),$(".menu-toggle").show()}),400)})),$(".search").on("click",".search__overlay",(function(){$(".search-close").removeClass("open"),$(".search").slideUp(),$("body").removeClass("noscroll"),setTimeout((function(){$(".search-close").hide(),$(".menu-toggle").show(),$(".search__overlay").remove()}),400)})),$(".js-modal-show").on("click",(function(){var e=$(this).attr("href");$(e).fadeIn(500),$("body").addClass("noscroll")})),$(".js-modal-close").on("click",(function(e){e.preventDefault(),$(".js-modal").fadeOut(100),setTimeout((()=>{$("body").removeClass("noscroll")}),100)})),$("body").on("click",".js-modal",(function(e){e.target.classList.contains("js-modal")&&($(".js-modal").fadeOut(100),setTimeout((()=>{$("body").removeClass("noscroll")}),100)),e.stopPropagation()})),$(".callback-btn").on("click",(function(){$(this).parents(".dropdown").slideUp(),$(".menu-toggle").removeClass("open")})),$(".phone").mask("+7 (999) 999-99-99",{completed:function(){$(this).addClass("completed")}}),$(".accordion__header").on("click",(function(){$(this).toggleClass("open").siblings(".accordion__content").slideToggle().parents(".accordion__item").siblings(".accordion__item").find(".accordion__header").removeClass("open").siblings(".accordion__content").slideUp()})),$(".scrollup").click((function(){return $("html, body").animate({scrollTop:0},600),!1})),$(".tooltip__icon").on("click",(function(e){$(this).siblings(".tooltip__popup").fadeToggle(),o-$(this).siblings(".tooltip__popup").offset().left-260<150&&$(this).siblings(".tooltip__popup").css({left:"auto",right:0}),e.stopPropagation()})),$("body").on("click",(()=>{$(".tooltip__popup").fadeOut()})),e>767&&$(".js-anchor").on("click",(function(){let e=$(this).attr("href"),o=$(e).offset().top-84;return $("html,body").animate({scrollTop:o},600),!1})),$(".f-search__show").on("click",(function(e){e.preventDefault(),$(".f-search__form").fadeIn().find("input").focus()})),$(".sort__toggle").on("click",(function(){$(this).toggleClass("open").siblings(".sort__dropdown").slideToggle()})),$(".sort__link").on("click",(function(e){e.preventDefault();let o=$(this).text();$(this).parents(".sort__dropdown").slideUp().siblings(".sort__toggle").removeClass("open").find(".sort__selected").text(o)})),$(".f-select__header").on("click",(function(){$(this).parents(".f-select").siblings(".f-select").find(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp(),$(this).toggleClass("open").siblings(".f-select__list").slideToggle()})),$(".f-select__toggle").on("click",(function(){$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все"),$(this).siblings(".f-select__wrap").find(".f-select__checkbox:not(.hit)").hide(),$(this).siblings(".f-select__title").text("Популярные:")):($(this).addClass("open").find("span").text("Скрыть все"),$(this).siblings(".f-select__wrap").find(".f-select__checkbox").show(),$(this).siblings(".f-select__title").text("Все коллекции:"))})),$("body").on("mousedown",(function(e){e.target.classList.contains("f-select")||e.target.closest(".f-select")||$(".f-select__list").slideUp(),e.stopPropagation()})),$(".filter__toggle").on("click",(function(){window.innerWidth>767?$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все фильтры"),$(".f-select:nth-child(n + 5)").slideUp(),$(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp()):($(this).addClass("open").find("span").text("Скрыть все фильтры"),$(".f-select:nth-child(n + 5)").slideDown()):$(this).hasClass("open")?($(this).removeClass("open").find("span").text("Показать все фильтры"),$(".filter__selects").slideUp(),$(".f-select__header").removeClass("open").siblings(".f-select__list").slideUp()):($(this).addClass("open").find("span").text("Скрыть все фильтры"),$(".filter__selects").slideDown())}));const l=$(".colls-item");function a(){$(window).on("scroll",(function(){if(window.innerWidth<=991){let e=$(window).scrollTop();l.each((function(){let o=$(this),t=o.offset().top,s=o.offset().top+o.height()-40,i=o.find(".colls-item__title").height();e>t&&e<s?(o.find(".colls-item__title").removeClass("absolute").addClass("fixed").css("width",$(this).width()-20+"px"),o.css("padding-top",i+"px")):e<t?(o.find(".colls-item__title").removeClass("fixed"),o.css("padding-top","0px")):e>s&&o.find(".colls-item__title").removeClass("fixed").addClass("absolute")}))}else l.each((function(){$(this).find(".colls-item__title").removeClass("absolute").removeClass("fixed")}))}))}a(),$(window).on("resize",(()=>a()));let c=$(".product");c.length>0&&$(window).on("scroll",(function(){let e=$(window).scrollTop();if(window.innerWidth>991){let o=c.offset().top,t=o+c.find(".product__row").height()-c.find(".product__wrap").height();e>o&&e<t&&!c.hasClass("fixed")?c.addClass("fixed").removeClass("absolute"):e<o?c.removeClass("fixed"):e>t&&!c.hasClass("absolute")&&c.removeClass("fixed").addClass("absolute")}else{let o=230;window.innerWidth<576&&(o=180),e>c.offset().top+c.find(".product__left").height()-$(window).height()+o?$(".product__right").addClass("static"):$(".product__right").removeClass("static")}})),$(".js-product-anchor").on("click",(function(e){e.preventDefault();let o=$(this).attr("href"),t=$(o).position().top,s=c.offset().top+c.find(".product__left").height()+t+40;return $("html,body").animate({scrollTop:s},600),!1})),$(".product-info__more").on("click",(function(e){e.preventDefault(),$(this).siblings(".product-info__list").toggleClass("open"),$(this).hasClass("open")?$(this).removeClass("open").find("span").text("Развернуть"):$(this).addClass("open").find("span").text("Свернуть")})),$(".js-copy-product-code").on("click",(function(e){e.preventDefault();let o=$("<input>");$("body").append(o),o.val($(".product__code span").text()).select(),document.execCommand("copy"),o.remove(),$(".js-copy-label").addClass("open"),setTimeout((function(){$(".js-copy-label").removeClass("open")}),3500)})),$(".js-copy-product-link").on("click",(function(e){e.preventDefault();let o=$("<input>");$("body").append(o),o.val(window.location.href).select(),document.execCommand("copy"),o.remove(),$(".js-copy-label-light").addClass("open"),setTimeout((function(){$(".js-copy-label-light").removeClass("open")}),3500)}));let d=$(".goods");if(d.length>0){let o=$(".goods-nav");e>767?$(window).on("scroll",(function(){let e=$(window).scrollTop(),t=d.offset().top-84,s=d.offset().top+d.height()-o.height()-84;e>t&&e<s?o.addClass("fixed"):o.removeClass("fixed"),$(".goods-nav__link").each((function(){let o=$(this.hash).offset().top-94;o<=e&&e<o+$(this.hash).height()?$(this).addClass("active"):$(this).removeClass("active")}))})):($(".goods-nav__link").removeClass("js-anchor"),$(".goods-nav__link").on("click",(function(e){e.preventDefault(),$(this).addClass("active").siblings(".goods-nav__link").removeClass("active"),$(this.hash).fadeIn().addClass("active").siblings(".coll-goods").hide().removeClass("active"),$(".coll-goods").masonry({gutter:p,itemSelector:".coll-goods__item",lazyLoad:!0})})))}let r=0,p=0,f=0,h=0;o>1859?(r=144,p=144,f=352,h=392):o<1860&&o>1599?(r=122,p=122,f=288,h=328):o<1600&&o>1279?(r=101,p=101,f=224,h=264):o<1280&&o>991?(r=133,p=60,f=224,h=133):o<992&&o>767?(r=20,p=20,f=216):o<768&&o>575?(r=86,p=86):o<576&&(r=10,p=10,f=".catalog-grid__item"),$(window).on("resize",(function(){(o=window.innerWidth)>1859?(r=144,p=144,f=352,h=392):o<1860&&o>1599?(r=122,p=122,f=288,h=328):o<1600&&o>1279?(r=101,p=101,f=224,h=264):o<1280&&o>991?(r=133,p=60,f=224,h=133):o<992&&o>767?(r=20,p=20,f=216):o<768&&o>575?(r=86,p=86):o<576&&(r=10,p=10,f=".catalog-grid__item"),$cataloGrid=$(".catalog-grid").masonry({horizontalOrder:!0,gutter:r,itemSelector:".catalog-grid__item",columnWidth:".catalog-grid__item",fitWidth:!0,lazyLoad:!0}),$coolGoods=$(".coll-goods").masonry({horizontalOrder:!0,gutter:p,itemSelector:".coll-goods__item",columnWidth:".coll-goods__item",fitWidth:!0,lazyLoad:!0}),$(".card-items").each((function(){$cardItems=$(this).masonry({horizontalOrder:!0,gutter:h,itemSelector:".card-item",columnWidth:".card-item",fitWidth:!0,lazyLoad:!0})}))})),$cataloGrid=$(".catalog-grid").masonry({horizontalOrder:!0,gutter:r,itemSelector:".catalog-grid__item",columnWidth:".coll-goods__item",fitWidth:!0,lazyLoad:!0}),$coolGoods=$(".coll-goods").masonry({horizontalOrder:!0,gutter:p,itemSelector:".coll-goods__item",columnWidth:".coll-goods__item",fitWidth:!0,lazyLoad:!0}),$(".card-items").each((function(){$cardItems=$(this).masonry({horizontalOrder:!0,gutter:h,itemSelector:".card-item",columnWidth:".card-item",fitWidth:!0,lazyLoad:!0})}));const u=$(".js-range-price"),_=$(".js-input-from"),m=$(".js-input-to");if(m.val()>0)var g=m.val();else g=m.attr("max");if(_.val()>0)var v=_.val();else v=_.attr("min");var C=_.attr("id"),w=m.attr("id");let b,y=Number(_.attr("min")),k=Number(m.attr("max")),x=0,j=0;function T(e){x=Number(e.from),j=Number(e.to),_.prop("value",x),m.prop("value",j)}u.ionRangeSlider({grid:!1,type:"double",min:y,max:k,from:v,to:g,prettify_enabled:!0,onStart:T,onChange:T,onFinish:function(e){smartFilter.keyup(BX(C)),smartFilter.keyup(BX(w))}}),b=u.data("ionRangeSlider"),_.on("input",(function(){var e=Number($(this).prop("value"));e<y?e=y:e>j&&(e=j),b.update({from:e})})),m.on("input",(function(){var e=Number($(this).prop("value"));e<x?e=x:e>k&&(e=k),b.update({to:e})}))}));