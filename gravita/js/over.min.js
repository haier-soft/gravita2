function masonry(){let t=$(window).width();$cataloGrid.masonry("destroy");let e=0,o=0,s=0;t>1859?(e=144,o=144,s=352):t<1860&&t>1599?(e=122,o=122,s=288):t<1600&&t>1279?(e=101,o=101,s=224):t<1280&&t>991?(e=133,o=60,s=224):t<992&&t>767?(e=20,o=20,s=216):t<768&&t>575?(e=86,o=86):t<576&&(e=10,o=10,s=".catalog-grid__item"),$(window).on("resize",(function(){t=$(window).width(),t>1859?(e=144,o=144,s=352):t<1860&&t>1599?(e=122,o=122,s=288):t<1600&&t>1279?(e=101,o=101,s=224):t<1280&&t>991?(e=133,o=60,s=224):t<992&&t>767?(e=20,o=20,s=216):t<768&&t>575?(e=86,o=86):t<576&&(e=10,o=10,s=".catalog-grid__item"),$(".catalog-grid").masonry({horizontalOrder:!0,gutter:e,itemSelector:".catalog-grid__item",lazyLoad:!0}),$(".coll-goods").masonry({gutter:o,itemSelector:".coll-goods__item",lazyLoad:!0})})),$cataloGrid=$(".catalog-grid").masonry({horizontalOrder:!0,gutter:e,itemSelector:".catalog-grid__item",lazyLoad:!0}),$coolGoods=$(".coll-goods").masonry({gutter:o,itemSelector:".coll-goods__item",lazyLoad:!0}),$cataloGrid.on("layoutComplete",(function(t,e){}))}function copyToClipboard(t){const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function sendCalculate(t){$.ajax({url:"/local/include/ajax/calc.php",type:"POST",dataType:"json",async:!1,data:t,success:function(t){console.log(t),t.error||($("#productQuantity").val(t.count),$("#productQuantityDef").val(t.countCart),$("#productQuantityOsn").val(t.countOsn),"Y"==t.printOldPrice?$("#totalPrice").html(t.printTotalPrice+"<span>"+t.printTotalPriceOld+"</span>"):$("#totalPrice").html(t.printTotalPrice))}})}function validateEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}$((function(){if($(document).on("click",".filter__selected .filter__item a",(function(t){t.preventDefault();let e=$(this).data("filter");""!=e?(console.log(e),$("#"+e).trigger("click")):window.location.href=$(this).attr("href")})),$(".catalog .sort__list .sort__link").on("click",(function(){let t=$(this).attr("href");window.location.href=t,console.log(t)})),$(document).on("click",".catalog__more",(function(t){let e=$(this).attr("href"),o=$(this).data("pager");$.ajax({type:"POST",dataType:"html",url:e,success:function(t){let e=$(t);if($(".loadCards").length>0){let t=$(e.find(".loadCards").html());e.find(".loadCards").length>0?($(".loadCards").append(t),setTimeout((function(){$cataloGrid.masonry("appended",t)}),100)):$(".loadCards").html("")}if($(".loadCollection").length>0){let t=$(e.find(".loadCollection").html());e.find(".loadCollection").length>0?($(".loadCollection").append(t),setTimeout((function(){$cataloGrid.masonry("appended",t)}),100)):$(".loadCollection").html("")}e.find(".loadPagination").length>0?$(".loadPagination").html(e.find(".loadPagination").html()):$(".loadPagination").html(""),window.history.pushState(null,null,o)}}),t.preventDefault()})),$("#productForm .js-plus-o").on("click",(function(t){let e=$("#productQuantityDef").val(),o=$("#productQuantityOsn").val(),s=$("#productQuantity").val(),a=$('#productForm input[name="unit"]:checked').val(),l="N";$("#productForm .addPodrezka").is(":checked")&&(l="Y"),sendCalculate($.param({PODREZKA:l,QUANTITY:s,QUANTITY_PIECES:e,QUANTITY_OSN:o,MEASURE:a,TYPE:"plus",DEFAULT:omniProduct})),t.preventDefault()})),$("#productForm .js-minus-o").on("click",(function(t){let e=$("#productQuantity").val(),o=$("#productQuantityOsn").val(),s=$('#productForm input[name="unit"]:checked').val(),a="N";$("#productForm .addPodrezka").is(":checked")&&(a="Y"),sendCalculate($.param({PODREZKA:a,QUANTITY:e,QUANTITY_OSN:o,MEASURE:s,TYPE:"minus",DEFAULT:omniProduct})),t.preventDefault()})),$("#productForm #productQuantity").on("change",(function(t){let e=$("#productQuantity").val(),o=$("#productQuantityOsn").val(),s=$('#productForm input[name="unit"]:checked').val(),a="N";$("#productForm .addPodrezka").is(":checked")&&(a="Y"),sendCalculate($.param({PODREZKA:a,QUANTITY:e,QUANTITY_OSN:o,MEASURE:s,TYPE:"change",DEFAULT:omniProduct})),t.preventDefault()})),$("#productForm .radiobutton__control").on("click",(function(t){let e=$("#productQuantity").val(),o=$("#productQuantityOsn").val(),s=$(this).val(),a=$("#productMeasureLast").val();if($("#productForm .addPodrezka").is(":checked")){}sendCalculate($.param({PODREZKA:"N",QUANTITY:e,QUANTITY_OSN:o,MEASURE:s,LAST_MEASURE:a,TYPE:"ratio",DEFAULT:omniProduct})),$("#productMeasureLast").val(s)})),$("#buy .product__btn").on("click",(function(t){let e=$.param({ID:omniProduct.ID,QUANTITY:$("#productQuantityDef").val(),MODE:"addCart"});$.ajax({url:"/local/include/ajax/ajax.php",type:"POST",dataType:"json",async:!1,data:e,success:function(t){$(".basket-btn span").text(t.cartCount),$(".js-copy-label-green").addClass("open"),setTimeout((function(){$(".js-copy-label-green").removeClass("open")}),3500)}}),t.preventDefault()})),$('#js-modal-samples input[name="NAME"], #js-modal-callback input[name="NAME"]').on("input",(function(t){let e=$(this).val().replace(/[^а-я ]/gi,"");$(this).val(e)})),$(".js-open-modals-samples").on("click",(function(t){$('#js-modal-samples input[name="PRODUCT_ID"]').val(omniProduct.ID),$('#js-modal-samples input[name="PRODUCT_NAME"]').val(omniProduct.NAME),$("#js-modal-samples").fadeIn(500),$("body").addClass("noscroll"),t.preventDefault()})),$("#js-modal-samples form").on("submit",(function(t){let e=!1,o=$(this).find('input[name="EMAIL"]').val();if($(this).find('input[name="EMAIL"]').parent().removeClass("error"),""!=o&&(validateEmail(o)||(e=!0,$(this).find('input[name="EMAIL"]').parent().addClass("error"))),!e){let t=$.param({MODE:"formSample"});t=t+"&"+$(this).serialize(),$.ajax({url:"/local/include/ajax/ajax.php",type:"POST",dataType:"json",data:t,success:function(t){"success"==t.type?($("#js-modal-samples form .form-group input").val(""),$("#js-modal-samples form .form-group textarea").val(""),$("#js-modal-samples").fadeOut(100),$("#js-modal-thanks").fadeIn(500)):($("#js-modal-samples").fadeOut(100),$("#js-modal-error").fadeIn(500))}})}t.preventDefault()})),$("#js-modal-callback form").on("submit",(function(t){{let t=$.param({MODE:"formCallback"});t=t+"&"+$(this).serialize(),$.ajax({url:"/local/include/ajax/ajax.php",type:"POST",dataType:"json",data:t,success:function(t){"success"==t.type?($("#js-modal-callback form .form-group input").val(""),$("#js-modal-callback").fadeOut(100),$("#js-modal-thanks").fadeIn(500)):($("#js-modal-callback").fadeOut(100),$("#js-modal-error").fadeIn(500))}})}t.preventDefault()})),$("#js-modal-3d_design form").on("submit",(function(t){{let t=$.param({MODE:"form3Ddesign"});t=t+"&"+$(this).serialize(),$.ajax({url:"/local/include/ajax/ajax.php",type:"POST",dataType:"json",data:t,success:function(t){"success"==t.type?($("#js-modal-3d_design form .form-group input").val(""),$("#js-modal-3d_design").fadeOut(100),$("#js-modal-thanks").fadeIn(500)):($("#js-modal-3d_design").fadeOut(100),$("#js-modal-error").fadeIn(500))}})}t.preventDefault()})),$(".f-search__reset").on("click",(function(t){t.preventDefault(),$('.f-search__form input[name="FILTER_SEARCH"]').val(""),$(".f-search__form form").trigger("submit")})),$('.f-search__form input[name="FILTER_SEARCH"]').on("input",(function(){$(".f-search__reset").hide(),$(".f-search__submit").show()})),$(".gallery__carousel").length>0){let t=$(".gallery__carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!1,autoplay:!1,autoplaySpeed:4e3,fade:!1,asNavFor:".gallery__thumbs",prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>'});$(".gallery__thumbs").slick({infinite:!1,slidesToShow:7,slidesToScroll:1,swipeToSlide:!0,asNavFor:".gallery__carousel",dots:!1,focusOnSelect:!0,arrows:!1,variableWidth:!0,responsive:[{breakpoint:1280,settings:{slidesToShow:6}},{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]});let e=t.slick("slickCurrentSlide")+1,o=t.slick("getSlick").slideCount;$(".gallery .counter__current").text(e),$(".gallery .counter__total").text(o),t.on("afterChange",(function(t,e,o,s){$(".gallery .counter__current").text(o+1)}))}if($(".js-projects").length>0){const t=$(".js-projects .carousel-projects").slick({slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,speed:800,prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>',responsive:[{breakpoint:1080,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]});let e=t.slick("slickCurrentSlide")+1,o=t.slick("getSlick").slideCount;$(".js-projects .counter__current").text(e),$(".js-projects .counter__total").text(o),t.on("afterChange",(function(t,e,o,s){$(".js-projects .counter__current").text(o+1)}))}if($(".js-other .carousel-projects").length>0){const t=$(".js-other .carousel-projects").slick({slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,speed:800,prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>',responsive:[{breakpoint:1080,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]});let e=t.slick("slickCurrentSlide")+1,o=t.slick("getSlick").slideCount;$(".js-other .counter__current").text(e),$(".js-other .counter__total").text(o),t.on("afterChange",(function(t,e,o,s){$(".js-other .counter__current").text(o+1)}))}if($(".product-carousel").length>0&&$(".product-carousel").slick({slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,speed:800,prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>'}),$(".js-similar-size").length>0){const t=$(".js-similar-size .carousel").slick({slidesToShow:5,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,speed:800,prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}}]});let e=t.slick("slickCurrentSlide")+1,o=t.slick("getSlick").slideCount;$(".js-similar-size .counter__current").text(e),$(".js-similar-size .counter__total").text(o),t.on("afterChange",(function(t,e,o,s){$(".js-similar-size .counter__current").text(o+1)}))}if($(".js-similar-style").length>0){const t=$(".js-similar-style .carousel").slick({slidesToShow:5,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,speed:800,prevArrow:'<button class="prev" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-left"></svg></button>',nextArrow:'<button class="next" type="button"><svg><use href="/local/access/img/icons/sprite.svg#arrow-right"></svg></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}}]});let e=t.slick("slickCurrentSlide")+1,o=t.slick("getSlick").slideCount;$(".js-similar-style .counter__current").text(e),$(".js-similar-style .counter__total").text(o),t.on("afterChange",(function(t,e,o,s){$(".js-similar-style .counter__current").text(o+1)}))}}));