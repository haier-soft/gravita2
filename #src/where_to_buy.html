<!DOCTYPE html>
<html lang="en">

@@include("_head.html")

<body>
    <object style="display: none" class="sprite" type="image/svg+xml" data="../img/icons/sprite.svg"
        title="Ваш браузер не поддерживает SVG"></object>
    <div id="panel">
    </div>
    <div class="wrap">
        @@include("_header.html")
        <main>
            <div class="container">
                <!-- breadcrumbs-->
                <nav class="breadcrumbs">
                    <div class="breadcrumbs__item"><a class="breadcrumbs__link" href="#"><span>Главная</span></a></div>
                    <div class="breadcrumbs__item"><span>Где купить</span></div>
                </nav>
            </div>
            <!--shops-->
            <section class="section">
                <div class="container">
                    <h1 class="title">Где купить</h1>
                    <div class="shops">
                        <div class="shops__header">
                            <nav class="tabs">
                                <a href="" class="tabs__item active" data-nav="map">Магазины На карте</a>
                                <a href="" class="tabs__item" data-nav="shops-list">Список магазинов</a>
                            </nav>
                            <form action="" class="search-shops">
                                <div class="form-group">
                                    <input type="text" id="map-search" placeholder="Введите адрес или город">
                                </div>
                                <button type="submit" class="search-shops__btn">
                                    <svg>
                                       <use href="img/icons/sprite.svg#search"></use>
                                    </svg>
                                </button>
                            </form>
                        </div>
                        <div class="shops__body">
                            <div class="shops__btns">
                                <a href="#" class="shops__btn active">Все магазины</a>
                                <a href="#" class="shops__btn">Официальные магазины</a>
                            </div>
                            <div class="shops__wrapper">
                                <div class="map shops__block active" id="map" data-block="map"></div>
                                <div class="shops-list shops__block" data-block="shops-list">
                                    <div class="shops-list__container">
                                        <div class="shops-list__header">
                                            <h4>Результат поиска:<span>Москва ул Дениса Давыдова</span></h4>  
                                            <a class="search-shops__reset" href="#">
                                                <span>Сбросить результаты</span>
                                                <svg>
                                                    <use href="img/icons/sprite.svg#icon-close"></use>
                                                </svg>
                                            </a>
                                        </div>         
                                    <div class="shops-list__wrapper">
                                        <div class="shops-list__items">
                                            <div class="item-shop">
                                                <p class="item-shop__name">Дон Керам <span>(оф. магазин)</span></p>
                                                <p class="item-shop__address">Волгоградский просп., 32, корп. 25, Москва, ТЦ «Метр Квадратный», этаж 1, павильон 208</p>
                                                <div class="item-shop__worktime">
                                                    <p><span>Время работы:</span><span>9:00-21:00</span></p>
                                                    <p><span>Телефон:</span><a href="tel:88004634534">8 (800) 463-45-34</a></p>
                                                </div>
                                                <a href="" class="item-shop__link">подробнее о магазине</a>
                                            </div>
                                            <div class="item-shop">
                                                <p class="item-shop__name">Дон Керам <span>(оф. магазин)</span></p>
                                                <p class="item-shop__address">Западная ул., с100, рабочий посёлок Новоивановское, ТЦ «Можайский Двор», этаж 2, павильон B-19</p>
                                                <div class="item-shop__worktime">
                                                    <p><span>Время работы:</span><span>9:00-21:00</span></p>
                                                    <p><span>Телефон:</span><a href="tel:88004634534">8 (800) 463-45-34</a></p>
                                                </div>
                                                <a href="" class="item-shop__link">подробнее о магазине</a>
                                            </div>
                                            <div class="item-shop">
                                                <p class="item-shop__name">Дон Керам <span>(оф. магазин)</span></p>
                                                <p class="item-shop__address">Тихорецкий бул., 1, стр. 70, Москва, корпус В, ТЦ «Люблинское поле», этаж 1, павильон В-145</p>
                                                <div class="item-shop__worktime">
                                                    <p><span>Время работы:</span><span>9:00-21:00</span></p>
                                                    <p><span>Телефон:</span><a href="tel:88004634534">8 (800) 463-45-34</a></p>
                                                </div>
                                                <a href="" class="item-shop__link">подробнее о магазине</a>
                                            </div>
                                        </div>
                                    </div>
                                    </div>  
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        @@include("_footer.html")
    </div>
    @@include("_fixed-el.html")
    <script src="https://api-maps.yandex.ru/2.1/?apikey=ваш API-ключ&amp;lang=ru_RU"></script>
    <script>
        let center = [55.75618711357894,37.62455054402144];
        
        function init() {
          let map = new ymaps.Map('map', {
            center: center,
            zoom: 13
          });
          let collection1 = new ymaps.GeoObjectCollection(null, {
              iconLayout: 'default#image',
              iconImageHref: 'img/icons/map-sprite.svg',
              iconImageClipRect: [[63,0], [126, 79]],
              iconImageSize: [63, 79],
              iconImageOffset: [-32, -79],
              hideIconOnBalloonOpen: false,
              balloonOffset: [80, -55]
          });
          let collection2 = new ymaps.GeoObjectCollection(null, {
              iconLayout: 'default#image',
              iconImageHref: 'img/icons/map-sprite.svg',
              iconImageClipRect: [[0,0], [63, 79]],
              iconImageSize: [63, 79],
              iconImageOffset: [-32, -79],
              hideIconOnBalloonOpen: false,
              balloonOffset: [80, -55],
          });
          map.controls.remove('geolocationControl'); // удаляем геолокацию
          map.controls.remove('searchControl'); // удаляем поиск
          map.controls.remove('trafficControl'); // удаляем контроль трафика
          map.controls.remove('typeSelector'); // удаляем тип
          map.controls.remove('fullscreenControl'); // удаляем кнопку перехода в полноэкранный режим
          map.controls.remove('zoomControl'); // удаляем контрол зуммирования
          map.controls.remove('rulerControl'); // удаляем контрол правил
          map.behaviors.disable(['scrollZoom']); // отключаем скролл карты (опционально)
          let mapSearch = new ymaps.SuggestView('map-search');
          collection1
             .add(new ymaps.Placemark([55.740436, 37.60575], {
                  balloonContent: `
                  <div class="balloon">
                    <div class="balloon__header">
                        <div class="balloon__name">Дон Керам</div>
                    </div>
                    <div class="balloon__address">Волгоградский просп., 32, корп. 25, МоскваТЦ «Метр Квадратный», этаж 1, павильон 208</div>
                    <div class="balloon__contacts">
                      <p>
                        <span>Время работы:</span>
                        <span>9:00-21:00</span>
                      </p>
                      <p>
                        <span>Телефон:</span>
                        <a href="tel:88004634534">8 (800) 463-45-34</a>
                      </p>
                    </div>
                    <a href="#">подробнее о магазине</a>
                  </div>`
              }, {}))
             .add(new ymaps.Placemark([55.763436, 37.635175], {
                  balloonContent: `
                  <div class="balloon">
                    <div class="balloon__header">
                        <div class="balloon__name">Дон Керам</div>
                    </div>
                    <div class="balloon__address">Волгоградский просп., 32, корп. 25, МоскваТЦ «Метр Квадратный», этаж 1, павильон 208</div>
                    <div class="balloon__contacts">
                      <p>
                        <span>Время работы:</span>
                        <span>9:00-21:00</span>
                      </p>
                      <p>
                        <span>Телефон:</span>
                        <a href="tel:88004634534">8 (800) 463-45-34</a>
                      </p>
                    </div>
                    <a href="#">подробнее о магазине</a>
                  </div>`
              }, {}));
  
          collection2
             .add(new ymaps.Placemark([55.769999, 37.610175], {
                  balloonContent: `
                     <div class="balloon">
                       <div class="balloon__header">
                           <div class="balloon__name">Дон Керам</div>
                           <div class="balloon__lbl">(оф магазин)</div>
                       </div>
                       <div class="balloon__address">Волгоградский просп., 32, корп. 25, МоскваТЦ «Метр Квадратный», этаж 1, павильон 208</div>
                       <div class="balloon__contacts">
                         <p>
                           <span>Время работы:</span>
                           <span>9:00-21:00</span>
                         </p>
                         <p>
                           <span>Телефон:</span>
                           <a href="tel:88004634534">8 (800) 463-45-34</a>
                         </p>
                       </div>
                       <a href="#">подробнее о магазине</a>
                     </div>`
              }, {}))
             .add(new ymaps.Placemark([55.733436, 37.643175], {
                  balloonContent: `
                     <div class="balloon">
                       <div class="balloon__header">
                           <div class="balloon__name">Дон Керам</div>
                           <div class="balloon__lbl">(оф магазин)</div>
                       </div>
                       <div class="balloon__address">Волгоградский просп., 32, корп. 25, МоскваТЦ «Метр Квадратный», этаж 1, павильон 208</div>
                       <div class="balloon__contacts">
                         <p>
                           <span>Время работы:</span>
                           <span>9:00-21:00</span>
                         </p>
                         <p>
                           <span>Телефон:</span>
                           <a href="tel:88004634534">8 (800) 463-45-34</a>
                         </p>
                       </div>
                       <a href="#">подробнее о магазине</a>
                     </div>`
              }, {}));
  
          map.geoObjects.add(collection1)
            .add(collection2);
          //смена иконки при клике  
          let activePlacemark;
          collection1.events.add('click', function(e){
            if (activePlacemark) {
              activePlacemark.options.set('iconImageHref', 'img/icons/map-sprite.svg');
            } 
            activePlacemark = e.get('target');
            activePlacemark.options.set('iconImageHref', 'img/icons/map-marker-active.svg')
          }) 
          collection2.events.add('click', function(e){
            if (activePlacemark) {
              activePlacemark.options.set('iconImageHref', 'img/icons/map-sprite.svg');
            } 
            activePlacemark = e.get('target');
            activePlacemark.options.set('iconImageHref', 'img/icons/map-marker-active.svg')
          }) 
        }
        
        ymaps.ready(init);
    </script>
</body>

</html>